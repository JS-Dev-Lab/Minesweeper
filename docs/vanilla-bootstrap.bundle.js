(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{48:function(e,n,t){"use strict";t.r(n);var r=t(56);t.d(n,"createView",(function(){return a}));var o=document.getElementById("app"),c=document.createElement("style");c.type="text/css",c.appendChild(document.createTextNode("\n.cell {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-weight: bold;\n  font-size: 20px;\n}\n.cell.unseen {\n  background: lightgrey;\n}\n.cell.mine.seen {\n  background: red;\n  color: black;\n}\n.cell.number-1 {\n  color: blue;\n}\n.cell.number-2 {\n  color: green;\n}\n.cell.number-3 {\n  color: red;\n}\n.cell.number-4 {\n  color: orange;\n}\n.cell.number-5 {\n  color: yellow;\n}\n.cell.number-6 {\n  color: black;\n}\n.cell.number-7 {\n  color: purple;\n}")),document.getElementsByTagName("head")[0].appendChild(c);var a=Object(r.viewCreatorFactory)(o,(function(e){var n=e.state,t=n.array,r=n.status,o=n.height,c=n.width,a=n.timeSpend;return"<style>\n            .wrapper {\n              display: grid;\n              grid-template-columns: repeat(".concat(o,", 30px);\n              grid-template-rows: repeat(").concat(c,', 30px);\n              grid-gap: 2px;\n            }\n          </style>\n          <div class="wrapper">\n          ').concat(t.flatMap((function(e,n){return e.map((function(e,t){return'<div class="cell number-'.concat(e.neighborMines," ").concat(e.seen?"seen":"unseen"," ").concat(e.mine?"mine":"",'" onClick="commands.guess({x:').concat(n,",y:").concat(t,'})">').concat((o=(r=e).seen,c=r.mine,a=r.neighborMines,o?c?"*":0===a?"":a:""),"</div>");var r,o,c,a}))})).join(""),"\n          </div>\n          ").concat("loose"===r?"<p>you loose!!!!</p>":"","\n          ").concat("win"===r?"<p>you win buddy!!!!</p>":"","\n          <p>").concat(a,'</p>\n          <button onClick="commands.reRun();">Restart</button>')}))},56:function(module,exports,__webpack_require__){var n;window,n=function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(1);\n\n\n//# sourceURL=webpack://mvi.vanilla/multi_./src/index.js?")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/basicRender.js\nfunction basicRender(_ref) {\n  var state = _ref.state;\n  return "<pre>".concat(JSON.stringify(state, null, 2), "</pre>");\n}\n\n\n// CONCATENATED MODULE: ./src/viewCreatorFactory.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction viewCreatorFactory(element) {\n  var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : basicRender;\n  return function (_ref) {\n    var state = _ref.state,\n        commands = _ref.commands;\n    return new View({\n      state: _objectSpread({}, state),\n      commands: commands\n    }, element, render);\n  };\n}\n\nvar View =\n/*#__PURE__*/\nfunction () {\n  function View(_ref2, element, render) {\n    var state = _ref2.state,\n        commands = _ref2.commands;\n\n    _classCallCheck(this, View);\n\n    this._element = element;\n    this._commands = commands;\n    window.commands = commands;\n    this._render = render;\n    this.fullUpdate(state);\n  }\n\n  _createClass(View, [{\n    key: "update",\n    value: function update(updater) {\n      var newState = _objectSpread({}, this._state);\n\n      updater(newState);\n      this.fullUpdate(newState);\n    }\n  }, {\n    key: "fullUpdate",\n    value: function fullUpdate(state) {\n      this._state = Object.freeze(state);\n\n      var html = this._render({\n        state: this._state,\n        commands: this._commands\n      });\n\n      this._element.innerHTML = html;\n    }\n  }, {\n    key: "state",\n    get: function get() {\n      return this._state;\n    }\n  }]);\n\n  return View;\n}();\n\n\n// CONCATENATED MODULE: ./src/index.js\n/* concated harmony reexport viewCreatorFactory */__webpack_require__.d(__webpack_exports__, "viewCreatorFactory", function() { return viewCreatorFactory; });\n/* concated harmony reexport basicRender */__webpack_require__.d(__webpack_exports__, "basicRender", function() { return basicRender; });\n\n\n\n\n//# sourceURL=webpack://mvi.vanilla/./src/index.js_+_2_modules?')}])},module.exports=n()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3Jrcy92YW5pbGxhL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3Jrcy92YW5pbGxhL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXZpLnZhbmlsbGEvZGlzdC9pbmRleC5qcyJdLCJuYW1lcyI6WyJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcmVhdGVWaWV3Iiwidmlld0NyZWF0b3JGYWN0b3J5Iiwic3RhdGUiLCJyYXdBcnJheSIsImFycmF5Iiwic3RhdHVzIiwiaGVpZ2h0Iiwid2lkdGgiLCJ0aW1lU3BlbmQiLCJmbGF0TWFwIiwicm93IiwieCIsIm1hcCIsImNlbGwiLCJ5IiwibmVpZ2hib3JNaW5lcyIsInNlZW4iLCJtaW5lIiwiam9pbiIsIm4iLCJ3aW5kb3ciLCJlIiwidCIsInIiLCJleHBvcnRzIiwibyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJfX2VzTW9kdWxlIiwiY3JlYXRlIiwiYmluZCIsImRlZmF1bHQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibW9kdWxlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV2YWwiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sIm1hcHBpbmdzIjoiNEdBQUEsMkNBR0EsSUFBTUEsRUFBVUMsU0FBU0MsZUFBZSxPQUNsQ0MsRUFBUUYsU0FBU0csY0FBYyxTQUNyQ0QsRUFBTUUsS0FBTyxXQUNiRixFQUFNRyxZQUFZTCxTQUFTTSxlQUFULG1mQW9DTE4sU0FBU08scUJBQXFC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R0FBajVCLENBQXE1QixDQUFDLFNBQVNDLE9BQU92QixRQUFRd0IscUJBQXFCQyxLQUFLLDRHQUE0RyxTQUFTRixPQUFPRyxvQkFBb0JGLHFCQUFxQixhQUFhQyxLQUFLLHd0SEFBenlDRixPQUFPdkIsUUFBUUwiLCJmaWxlIjoidmFuaWxsYS1ib290c3RyYXAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlld0NyZWF0b3JGYWN0b3J5IH0gZnJvbSBcIm12aS52YW5pbGxhXCI7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9yZW5kZXJcIjtcblxuY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xuY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5zdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgXG4uY2VsbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB0ZXh0LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuLmNlbGwudW5zZWVuIHtcbiAgYmFja2dyb3VuZDogbGlnaHRncmV5O1xufVxuLmNlbGwubWluZS5zZWVuIHtcbiAgYmFja2dyb3VuZDogcmVkO1xuICBjb2xvcjogYmxhY2s7XG59XG4uY2VsbC5udW1iZXItMSB7XG4gIGNvbG9yOiBibHVlO1xufVxuLmNlbGwubnVtYmVyLTIge1xuICBjb2xvcjogZ3JlZW47XG59XG4uY2VsbC5udW1iZXItMyB7XG4gIGNvbG9yOiByZWQ7XG59XG4uY2VsbC5udW1iZXItNCB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG4uY2VsbC5udW1iZXItNSB7XG4gIGNvbG9yOiB5ZWxsb3c7XG59XG4uY2VsbC5udW1iZXItNiB7XG4gIGNvbG9yOiBibGFjaztcbn1cbi5jZWxsLm51bWJlci03IHtcbiAgY29sb3I6IHB1cnBsZTtcbn1gKSk7XG5jb25zdCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG5jb25zdCBjcmVhdGVWaWV3ID0gdmlld0NyZWF0b3JGYWN0b3J5KGVsZW1lbnQsIHJlbmRlcik7XG5cbmV4cG9ydCB7IGNyZWF0ZVZpZXcgfTtcbiIsImZ1bmN0aW9uIGZvcm1hdHRlcih7IHNlZW4sIG1pbmUsIG5laWdoYm9yTWluZXMgfSkge1xuICBpZiAoIXNlZW4pIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBpZiAobWluZSkge1xuICAgIHJldHVybiBcIipcIjtcbiAgfVxuICByZXR1cm4gbmVpZ2hib3JNaW5lcyA9PT0gMCA/IFwiXCIgOiBuZWlnaGJvck1pbmVzO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoeyBzdGF0ZTogeyBhcnJheTogcmF3QXJyYXksIHN0YXR1cywgaGVpZ2h0LCB3aWR0aCwgdGltZVNwZW5kIH0gfSkge1xuICByZXR1cm4gYDxzdHlsZT5cbiAgICAgICAgICAgIC53cmFwcGVyIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoJHtoZWlnaHR9LCAzMHB4KTtcbiAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoJHt3aWR0aH0sIDMwcHgpO1xuICAgICAgICAgICAgICBncmlkLWdhcDogMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cbiAgICAgICAgICAke3Jhd0FycmF5LmZsYXRNYXAoKHJvdyx4KSA9PiByb3cubWFwKChjZWxsLHkpID0+IGA8ZGl2IGNsYXNzPVwiY2VsbCBudW1iZXItJHtjZWxsLm5laWdoYm9yTWluZXN9ICR7Y2VsbC5zZWVuPyBcInNlZW5cIiA6IFwidW5zZWVuXCJ9ICR7Y2VsbC5taW5lPyBcIm1pbmVcIiA6IFwiXCJ9XCIgb25DbGljaz1cImNvbW1hbmRzLmd1ZXNzKHt4OiR7eH0seToke3l9fSlcIj4ke2Zvcm1hdHRlcihjZWxsKX08L2Rpdj5gKSkuam9pbihcIlwiKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAke3N0YXR1cyA9PT0gXCJsb29zZVwiID8gXCI8cD55b3UgbG9vc2UhISEhPC9wPlwiIDogXCJcIn1cbiAgICAgICAgICAke3N0YXR1cyA9PT0gXCJ3aW5cIiA/IFwiPHA+eW91IHdpbiBidWRkeSEhISE8L3A+XCIgOiBcIlwifVxuICAgICAgICAgIDxwPiR7dGltZVNwZW5kfTwvcD5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9XCJjb21tYW5kcy5yZVJ1bigpO1wiPlJlc3RhcnQ8L2J1dHRvbj5gO1xufVxuXG5leHBvcnQgeyByZW5kZXIgfTtcbiIsIiFmdW5jdGlvbihlLG4pe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPW4oKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLG4pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHNbXCJtdmkudmFuaWxsYVwiXT1uKCk6ZVtcIm12aS52YW5pbGxhXCJdPW4oKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj17fTtmdW5jdGlvbiB0KHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgbz1uW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyx0KSxvLmw9ITAsby5leHBvcnRzfXJldHVybiB0Lm09ZSx0LmM9bix0LmQ9ZnVuY3Rpb24oZSxuLHIpe3QubyhlLG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LHQucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSx0LnQ9ZnVuY3Rpb24oZSxuKXtpZigxJm4mJihlPXQoZSkpLDgmbilyZXR1cm4gZTtpZig0Jm4mJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0LnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImbiYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpdC5kKHIsbyxmdW5jdGlvbihuKXtyZXR1cm4gZVtuXX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobixcImFcIixuKSxufSx0Lm89ZnVuY3Rpb24oZSxuKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil9LHQucD1cIlwiLHQodC5zPTApfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7ZXZhbChcIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcXG5cXG5cXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly9tdmkudmFuaWxsYS9tdWx0aV8uL3NyYy9pbmRleC5qcz9cIil9LGZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V2YWwoJ19fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcXG5cXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9iYXNpY1JlbmRlci5qc1xcbmZ1bmN0aW9uIGJhc2ljUmVuZGVyKF9yZWYpIHtcXG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XFxuICByZXR1cm4gXCI8cHJlPlwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShzdGF0ZSwgbnVsbCwgMiksIFwiPC9wcmU+XCIpO1xcbn1cXG5cXG5cXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy92aWV3Q3JlYXRvckZhY3RvcnkuanNcXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxcblxcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cXG5cXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxcblxcbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XFxuXFxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XFxuXFxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cXG5cXG5cXG5cXG5mdW5jdGlvbiB2aWV3Q3JlYXRvckZhY3RvcnkoZWxlbWVudCkge1xcbiAgdmFyIHJlbmRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogYmFzaWNSZW5kZXI7XFxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcXG4gICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcXG4gICAgICAgIGNvbW1hbmRzID0gX3JlZi5jb21tYW5kcztcXG4gICAgcmV0dXJuIG5ldyBWaWV3KHtcXG4gICAgICBzdGF0ZTogX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLFxcbiAgICAgIGNvbW1hbmRzOiBjb21tYW5kc1xcbiAgICB9LCBlbGVtZW50LCByZW5kZXIpO1xcbiAgfTtcXG59XFxuXFxudmFyIFZpZXcgPVxcbi8qI19fUFVSRV9fKi9cXG5mdW5jdGlvbiAoKSB7XFxuICBmdW5jdGlvbiBWaWV3KF9yZWYyLCBlbGVtZW50LCByZW5kZXIpIHtcXG4gICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsXFxuICAgICAgICBjb21tYW5kcyA9IF9yZWYyLmNvbW1hbmRzO1xcblxcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlldyk7XFxuXFxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xcbiAgICB0aGlzLl9jb21tYW5kcyA9IGNvbW1hbmRzO1xcbiAgICB3aW5kb3cuY29tbWFuZHMgPSBjb21tYW5kcztcXG4gICAgdGhpcy5fcmVuZGVyID0gcmVuZGVyO1xcbiAgICB0aGlzLmZ1bGxVcGRhdGUoc3RhdGUpO1xcbiAgfVxcblxcbiAgX2NyZWF0ZUNsYXNzKFZpZXcsIFt7XFxuICAgIGtleTogXCJ1cGRhdGVcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSh1cGRhdGVyKSB7XFxuICAgICAgdmFyIG5ld1N0YXRlID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5fc3RhdGUpO1xcblxcbiAgICAgIHVwZGF0ZXIobmV3U3RhdGUpO1xcbiAgICAgIHRoaXMuZnVsbFVwZGF0ZShuZXdTdGF0ZSk7XFxuICAgIH1cXG4gIH0sIHtcXG4gICAga2V5OiBcImZ1bGxVcGRhdGVcIixcXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZ1bGxVcGRhdGUoc3RhdGUpIHtcXG4gICAgICB0aGlzLl9zdGF0ZSA9IE9iamVjdC5mcmVlemUoc3RhdGUpO1xcblxcbiAgICAgIHZhciBodG1sID0gdGhpcy5fcmVuZGVyKHtcXG4gICAgICAgIHN0YXRlOiB0aGlzLl9zdGF0ZSxcXG4gICAgICAgIGNvbW1hbmRzOiB0aGlzLl9jb21tYW5kc1xcbiAgICAgIH0pO1xcblxcbiAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcXG4gICAgfVxcbiAgfSwge1xcbiAgICBrZXk6IFwic3RhdGVcIixcXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XFxuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xcbiAgICB9XFxuICB9XSk7XFxuXFxuICByZXR1cm4gVmlldztcXG59KCk7XFxuXFxuXFxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaW5kZXguanNcXG4vKiBjb25jYXRlZCBoYXJtb255IHJlZXhwb3J0IHZpZXdDcmVhdG9yRmFjdG9yeSAqL19fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInZpZXdDcmVhdG9yRmFjdG9yeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZpZXdDcmVhdG9yRmFjdG9yeTsgfSk7XFxuLyogY29uY2F0ZWQgaGFybW9ueSByZWV4cG9ydCBiYXNpY1JlbmRlciAqL19fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJhc2ljUmVuZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYmFzaWNSZW5kZXI7IH0pO1xcblxcblxcblxcblxcbi8vIyBzb3VyY2VVUkw9d2VicGFjazovL212aS52YW5pbGxhLy4vc3JjL2luZGV4LmpzXytfMl9tb2R1bGVzPycpfV0pfSkpOyJdLCJzb3VyY2VSb290IjoiIn0=